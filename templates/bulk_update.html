{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <hgroup>
        <h1>Bulk Product Update</h1>
        <h2>Edit product variants across all stores and save changes in one go.</h2>
    </hgroup>

    <article class="bulk-update-controls">
        <div class="grid compact-controls">
            <button id="save-changes-btn" class="bulk-update-action-btn" aria-busy="false">Save Changes</button>
            <input type="search" id="search-input" placeholder="Filter by SKU, Name (use commas for multiple)...">
            
            <details role="list" class="dropdown">
                <summary>Stores</summary>
                <ul role="listbox" id="store-filter-list"><li>Loading...</li></ul>
            </details>
            
            <details role="list" class="dropdown">
                <summary>Types</summary>
                <ul role="listbox" id="type-filter-list"><li>Loading...</li></ul>
            </details>

            <details role="list" class="dropdown">
                <summary>Status</summary>
                <ul role="listbox" id="status-filter-list">
                    <li><label><input type="checkbox" name="status" value="ACTIVE"> Active</label></li>
                    <li><label><input type="checkbox" name="status" value="DRAFT"> Draft</label></li>
                    <li><label><input type="checkbox" name="status" value="ARCHIVED"> Archived</label></li>
                </ul>
            </details>

            <details role="list" class="dropdown">
                <summary>Barcode Actions</summary>
                <ul role="listbox">
                    <li><a href="#" id="generate-unique-barcode-btn">Generate Unique for Selected</a></li>
                    <li><a href="#" id="generate-same-barcode-btn">Generate Same for Selected</a></li>
                </ul>
            </details>

            <fieldset>
                <label for="no-barcode-filter">
                    <input type="checkbox" id="no-barcode-filter" name="no-barcode-filter">
                    No Barcode
                </label>
            </fieldset>
            <fieldset>
                <label for="group-toggle">
                    <input type="checkbox" id="group-toggle" name="group-toggle" role="switch">
                    Group by Barcode
                </label>
            </fieldset>
        </div>
        <div class="import-controls">
            <input type="file" id="excel-file-input" accept=".xlsx">
            <button id="import-excel-btn" class="bulk-update-action-btn">Import from Excel</button>
        </div>
    </article>

    <article id="bulk-update-container" class="overflow-auto" aria-busy="true">
        <p>Loading products...</p>
    </article>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/config.js"></script>
<script src="/static/js/bulk_update.js"></script>
{% endblock %}