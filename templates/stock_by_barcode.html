{% extends "base.html" %}

{% block content %}
<div class="container">
    <hgroup>
        <h1>Stock by Barcode</h1>
        <h2>Master inventory control across all stores.</h2>
    </hgroup>

    <article class="filters">
        <div class="grid" style="grid-template-columns: 2fr 1fr 1fr; gap: 1rem; align-items: end;">
            <label for="product-search-input">
                Search
                <input type="search" id="product-search-input" placeholder="Search any words: 'rosu bag 12345'...">
            </label>
            <label for="store-filter">
                Store
                <select id="store-filter">
                    <option value="">All Stores</option>
                </select>
            </label>
            <label for="sort-select">
                Sort By
                <select id="sort-select">
                    <option value="title-asc">Title (A-Z)</option>
                    <option value="title-desc">Title (Z-A)</option>
                    <option value="stock-desc">Stock (Highest)</option>
                    <option value="stock-asc">Stock (Lowest)</option>
                    <option value="retail-desc">Retail Value (Highest)</option>
                    <option value="retail-asc">Retail Value (Lowest)</option>
                    <option value="barcode-asc">Barcode (A-Z)</option>
                </select>
            </label>
        </div>
        <div class="grid" style="grid-template-columns: 1fr 1fr 1fr 1fr; gap: 1rem; margin-top: 0.5rem;">
            <input type="number" id="min-stock" placeholder="Min Stock">
            <input type="number" id="max-stock" placeholder="Max Stock">
            <input type="number" id="min-retail" placeholder="Min Retail Value">
            <input type="number" id="max-retail" placeholder="Max Retail Value">
        </div>
    </article>

    <article id="dashboard" class="grid metric-cards">
        <div class="metric-card">
            <h3>Total Units</h3>
            <p class="value" id="metric-total-stock">0</p>
            <small>in stock</small>
        </div>
        <div class="metric-card">
            <h3>Inventory Value</h3>
            <p class="value" id="metric-total-inventory-value">0 RON</p>
            <small>at cost</small>
        </div>
        <div class="metric-card">
            <h3>Retail Value</h3>
            <p class="value" id="metric-total-retail-value">0 RON</p>
            <small>at sale price</small>
        </div>
    </article>

    <article id="stock-container" aria-busy="true" class="table-container">
    </article>

    <dialog id="manage-variants-modal">
        <article>
            <header>
                <button class="close" aria-label="Close"></button>
                <strong id="modal-title">Set Primary Variant</strong>
            </header>
            <div id="modal-body"></div>
        </article>
    </dialog>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/stock_by_barcode.js"></script>
{% endblock %}