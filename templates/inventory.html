{% extends "base.html" %}
{% block content %}
<h1>Inventory Report</h1>
<h2>Detailed view of all product variants across all stores.</h2>

<section class="card filter-container">
  <div id="metrics-container" class="grid"></div>
  <details>
    <summary>Filters</summary>
    <div class="grid compact-filter">
      <label for="search-input" class="visually-hidden">Search inventory</label>
      <input type="search" id="search-input" placeholder="Search SKU, Barcode, Name…" />
      <!-- Additional filters here -->
      <button id="reset-filters" class="secondary outline" aria-label="Reset filters">Reset</button>
    </div>
  </details>
</section>

<section id="inventory-table-container" class="card" aria-busy="true" aria-live="polite">
  <p>Loading…</p>
</section>

<div class="grid pagination-controls">
  <button id="prev-button" class="secondary outline" aria-label="Previous page" disabled>← Previous</button>
  <span id="page-indicator" role="status" aria-live="polite">Page 1</span>
  <button id="next-button" class="secondary outline" aria-label="Next page">Next →</button>
</div>

<dialog id="details-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <h2 id="modal-title">Product Details</h2>
  <div id="modal-content" aria-busy="true" aria-live="polite">
    <p>Loading details…</p>
  </div>
</dialog>
{% endblock %}
{% block scripts %}
<script src="/static/js/config.js"></script>
<script>
(function(){
  const wrap = document.getElementById('group-toggle-wrap');
  const input = document.getElementById('group-toggle');
  const slider = wrap.querySelector('.slider');
  const knob = slider.firstElementChild;
  const sync = () => {
    slider.style.background = input.checked ? 'var(--pico-primary)' : 'var(--pico-muted-border-color)';
    knob.style.transform = input.checked ? 'translateX(20px)' : 'translateX(0)';
  };
  input.addEventListener('change', sync);
  sync();
})();
</script>
<script src="/static/js/config.js"></script>
<script src="/static/js/inventory.js"></script>
{% endblock %}
